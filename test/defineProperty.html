<!DOCTYPE HTML>
<html>

	<head>
		<meta charset="utf-8" />
		<title>defineProperty数据双向绑定</title>
		<style>
			div.newcolor {
				background: greenyellow;
			}
		</style>

		<script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				const obj = {};
				$(".btn1").click(function() {
					obj.text="通过defineProperty设置获得数据"
				});

				
				Object.defineProperty(obj, 'text', {
					get: function() {
						console.log('get val'); 
					},
					set: function(newVal) {
						console.log('set val:' + newVal);
						document.getElementById('input').value = newVal;
						document.getElementById('span').innerHTML = newVal;
					}
				});

				const input = document.getElementById('input');
				input.addEventListener('keyup', function(e) {
					obj.text = e.target.value;
				})

			});
		</script>

	</head>

	<body>
		<!--  Animate -->
		<div id="div" style="width: 100%;">
			<input id="input" />
			<span id="span" ></span>
		</div>

		<div style="width: 100%;float: left;">
			<button class="btn1">点击设置数据</button>
			<button class="btn2">Reset</button>

		</div>

	</body>

</html>